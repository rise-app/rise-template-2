import { RiSE } from '@rise/sdk-js'
import * as config from 'config'

export const rise = new RiSE({
  // url: process.env.RISE_API_URL || 'https://api.sandbox.rise.store',
  sandbox: true,
  public_key: config.rise.public_key,
  globals: {
    params: {
      channel_uuid: config.rise.channel_uuid
    }
  }
})


export const utils = {
  saveSession: function(req) {
    return new Promise((resolve, reject) => {
      req.session.save( function(err) {
        if (err) {
          return reject(err)
        }
        return resolve(req.session)
      })
    })
  }
}
